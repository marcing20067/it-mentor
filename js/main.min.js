"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _regeneratorRuntime(){_regeneratorRuntime=function(){return a};var a={},t=Object.prototype,s=t.hasOwnProperty,e="function"==typeof Symbol?Symbol:{},r=e.iterator||"@@iterator",n=e.asyncIterator||"@@asyncIterator",o=e.toStringTag||"@@toStringTag";function i(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{i({},"")}catch(t){i=function(t,e,n){return t[e]=n}}function c(t,e,n,r){var o,i,a,c,e=e&&e.prototype instanceof f?e:f,e=Object.create(e.prototype),r=new w(r||[]);return e._invoke=(o=t,i=n,a=r,c="suspendedStart",function(t,e){if("executing"===c)throw new Error("Generator is already running");if("completed"===c){if("throw"===t)throw e;return x()}for(a.method=t,a.arg=e;;){var n=a.delegate;if(n){n=function t(e,n){var r=e.iterator[n.method];if(void 0===r){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=void 0,t(e,n),"throw"===n.method))return l;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}r=u(r,e.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,l;r=r.arg;return r?r.done?(n[e.resultName]=r.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=void 0),n.delegate=null,l):r:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,l)}(n,a);if(n){if(n===l)continue;return n}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===c)throw c="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);c="executing";n=u(o,i,a);if("normal"===n.type){if(c=a.done?"completed":"suspendedYield",n.arg===l)continue;return{value:n.arg,done:a.done}}"throw"===n.type&&(c="completed",a.method="throw",a.arg=n.arg)}}),e}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}a.wrap=c;var l={};function f(){}function h(){}function d(){}var e={},p=(i(e,r,function(){return this}),Object.getPrototypeOf),p=p&&p(p(L([]))),y=(p&&p!==t&&s.call(p,r)&&(e=p),d.prototype=f.prototype=Object.create(e));function v(t){["next","throw","return"].forEach(function(e){i(t,e,function(t){return this._invoke(e,t)})})}function m(a,c){var e;this._invoke=function(n,r){function t(){return new c(function(t,e){!function e(t,n,r,o){var i,t=u(a[t],a,n);if("throw"!==t.type)return(n=(i=t.arg).value)&&"object"==_typeof(n)&&s.call(n,"__await")?c.resolve(n.__await).then(function(t){e("next",t,r,o)},function(t){e("throw",t,r,o)}):c.resolve(n).then(function(t){i.value=t,r(i)},function(t){return e("throw",t,r,o)});o(t.arg)}(n,r,t,e)})}return e=e?e.then(t,t):t()}}function g(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function b(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function w(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(g,this),this.reset(!0)}function L(e){if(e){var n,t=e[r];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return n=-1,(t=function t(){for(;++n<e.length;)if(s.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t}).next=t}return{next:x}}function x(){return{value:void 0,done:!0}}return i(y,"constructor",h.prototype=d),i(d,"constructor",h),h.displayName=i(d,o,"GeneratorFunction"),a.isGeneratorFunction=function(t){t="function"==typeof t&&t.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},a.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,i(t,o,"GeneratorFunction")),t.prototype=Object.create(y),t},a.awrap=function(t){return{__await:t}},v(m.prototype),i(m.prototype,n,function(){return this}),a.AsyncIterator=m,a.async=function(t,e,n,r,o){void 0===o&&(o=Promise);var i=new m(c(t,e,n,r),o);return a.isGeneratorFunction(e)?i:i.next().then(function(t){return t.done?t.value:i.next()})},v(y),i(y,o,"Generator"),i(y,r,function(){return this}),i(y,"toString",function(){return"[object Generator]"}),a.keys=function(n){var t,r=[];for(t in n)r.push(t);return r.reverse(),function t(){for(;r.length;){var e=r.pop();if(e in n)return t.value=e,t.done=!1,t}return t.done=!0,t}},a.values=L,w.prototype={constructor:w,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(b),!t)for(var e in this)"t"===e.charAt(0)&&s.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var r=this;function t(t,e){return i.type="throw",i.arg=n,r.next=t,e&&(r.method="next",r.arg=void 0),!!e}for(var e=this.tryEntries.length-1;0<=e;--e){var o=this.tryEntries[e],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var a=s.call(o,"catchLoc"),c=s.call(o,"finallyLoc");if(a&&c){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;0<=n;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&s.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}var i=(o=o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc?null:o)?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,l):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),b(n),l}},catch:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n,r,o=this.tryEntries[e];if(o.tryLoc===t)return"throw"===(n=o.completion).type&&(r=n.arg,b(o)),r}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:L(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},a}function asyncGeneratorStep(t,e,n,r,o,i,a){try{var c=t[i](a),s=c.value}catch(t){return void n(t)}c.done?e(s):Promise.resolve(s).then(r,o)}function _asyncToGenerator(c){return function(){var t=this,a=arguments;return new Promise(function(e,n){var r=c.apply(t,a);function o(t){asyncGeneratorStep(r,e,n,o,i,"next",t)}function i(t){asyncGeneratorStep(r,e,n,o,i,"throw",t)}o(void 0)})}}var hamburgerButton=document.querySelector(".hamburger"),nav=document.querySelector(".nav"),navLinks=document.querySelectorAll(".nav-list__item-link"),faqIconLines=document.querySelectorAll(".faq-item__box-button-line--vertical"),faqBoxes=document.querySelectorAll(".faq-item__box"),faqTexts=document.querySelectorAll(".faq-item__text"),faqContainers=document.querySelectorAll(".faq-item__container"),inputs=document.querySelectorAll(".contact-form__field-input"),form=document.querySelector("form"),focusableChilds=nav.querySelectorAll('a[href]:not([disabled]), button:not([disabled]), textarea:not([disabled]), input[type="text"]:not([disabled]), input[type="radio"]:not([disabled]), input[type="checkbox"]:not([disabled]), select:not([disabled])'),firstFocusableChild=focusableChilds[0],lastFocusableChild=focusableChilds[focusableChilds.length-1],isTrappedTabulation=!1,handleNav=function(){hamburgerButton.classList.toggle("is-active"),nav.classList.toggle("nav--active"),document.body.classList.toggle("block-scroll"),isTrappedTabulation=!isTrappedTabulation,updateNavLinksTabIndex()},toggleNavBackground=function(){nav.classList.toggle("nav--scroll-bgc",0<window.scrollY),nav.classList.toggle("nav--scroll-border",window.scrollY>window.innerHeight)},handleFaq=function(t,e){var n=t.closest(".faq-item"),n=(faqIconLines[e].classList.toggle("faq-item__box-button-line--hide"),n.classList.toggle("faq-item--checked"),0<t.offsetHeight),e=faqTexts[e].offsetHeight+"px";t.style["max-height"]=n?"0px":e},handleInput=function(t){t=t.target;t.classList.toggle("contact-form__field-input--not-empty",0<t.value.length)},updateFaqContainersHeight=function(){faqContainers.forEach(function(t,e){0<t.offsetHeight&&(t.style["max-height"]=faqTexts[e].offsetHeight+"px")})},onResize=function(){updateNavLinksTabIndex(),updateFaqContainersHeight()},URL="https://script.google.com/macros/s/AKfycbzJVlImiWTyC9aM7qWIbIa89svh76BXLKvf0yoSbcjiDbO2hTk70-H8pBkiEMl8-P8gJg/exec",success=document.querySelector(".contact-form__message--success"),failed=document.querySelector(".contact-form__message--failed"),onSubmit=function(){var e=_asyncToGenerator(_regeneratorRuntime().mark(function t(e){var n;return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.preventDefault(),success.style.display="none",success.style.display="none",t.prev=3,n=new FormData(form),n=Object.fromEntries(n.entries()),t.next=8,saveMessage(n);case 8:200===t.sent.status?(success.style.display="block",form.reset()):failed.style.display="block",t.next=15;break;case 12:t.prev=12,t.t0=t.catch(3),failed.style.display="block";case 15:case"end":return t.stop()}},t,null,[[3,12]])}));return function(t){return e.apply(this,arguments)}}(),saveMessage=function(t){return fetch(URL,{redirect:"follow",method:"POST",headers:{"Content-Type":"text/plain;charset=utf-8"},body:JSON.stringify(t)})},onKeydown=function(t){!isTrappedTabulation||"Tab"!==t.key||1024<window.innerWidth||(t.shiftKey&&document.activeElement===firstFocusableChild&&(lastFocusableChild.focus(),t.preventDefault()),t.shiftKey||document.activeElement!==lastFocusableChild||(firstFocusableChild.focus(),t.preventDefault()))},updateNavLinksTabIndex=function(){navLinks.forEach(function(t){t.tabIndex=isTrappedTabulation||1024<window.innerWidth?0:-1})};hamburgerButton.addEventListener("click",handleNav),navLinks.forEach(function(t){t.addEventListener("click",handleNav)}),faqBoxes.forEach(function(t,e){var n=faqContainers[e];t.addEventListener("click",function(){return handleFaq(n,e)})}),inputs.forEach(function(t){t.addEventListener("blur",handleInput)}),document.addEventListener("scroll",toggleNavBackground),form.addEventListener("submit",onSubmit),window.addEventListener("resize",onResize,{passive:!0}),nav.addEventListener("keydown",onKeydown),toggleNavBackground(),updateNavLinksTabIndex();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiaGFtYnVyZ2VyQnV0dG9uIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwibmF2IiwibmF2TGlua3MiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZmFxSWNvbkxpbmVzIiwiZmFxQm94ZXMiLCJmYXFUZXh0cyIsImZhcUNvbnRhaW5lcnMiLCJpbnB1dHMiLCJmb2N1c2FibGVDaGlsZHMiLCJsZW5ndGgiLCJmaXJzdEZvY3VzYWJsZUNoaWxkIiwibGFzdEZvY3VzYWJsZUNoaWxkIiwiaXNUcmFwcGVkVGFidWxhdGlvbiIsInRvZ2dsZSIsInVwZGF0ZU5hdkxpbmtzVGFiSW5kZXgiLCJzY3JvbGxZIiwid2luZG93IiwiaW5uZXJIZWlnaHQiLCJoYW5kbGVGYXEiLCJmYXFDb250YWluZXIiLCJpIiwiZmFxSXRlbSIsImNsb3Nlc3QiLCJpc0FjdGl2ZSIsImNsYXNzTGlzdCIsIm9mZnNldEhlaWdodCIsInRleHRIZWlnaHQiLCJzdHlsZSIsImhhbmRsZUlucHV0IiwiZSIsImlucHV0IiwidGFyZ2V0IiwidmFsdWUiLCJjb250YWluZXIiLCJmb3JFYWNoIiwib25SZXNpemUiLCJ1cGRhdGVGYXFDb250YWluZXJzSGVpZ2h0IiwiVVJMIiwic3VjY2VzcyIsImZhaWxlZCIsIm9uU3VibWl0IiwiX3JlZiIsIl9hc3luY1RvR2VuZXJhdG9yIiwiX3JlZ2VuZXJhdG9yUnVudGltZSIsIm1hcmsiLCJfY2FsbGVlIiwiZm9ybU9iamVjdCIsIndyYXAiLCJfY29udGV4dCIsInByZXYiLCJuZXh0IiwicHJldmVudERlZmF1bHQiLCJkaXNwbGF5IiwiZm9ybURhdGEiLCJGb3JtRGF0YSIsImZvcm0iLCJPYmplY3QiLCJmcm9tRW50cmllcyIsImVudHJpZXMiLCJzYXZlTWVzc2FnZSIsInNlbnQiLCJyZXNldCIsInQwIiwicmVzIiwic3RvcCIsIl94IiwiYXBwbHkiLCJ0aGlzIiwiYXJndW1lbnRzIiwiZmV0Y2giLCJyZWRpcmVjdCIsIm1ldGhvZCIsImhlYWRlcnMiLCJDb250ZW50LVR5cGUiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsImRhdGEiLCJvbktleWRvd24iLCJrZXkiLCJpbm5lcldpZHRoIiwic2hpZnRLZXkiLCJhY3RpdmVFbGVtZW50IiwiZm9jdXMiLCJsaW5rIiwiYWRkRXZlbnRMaXN0ZW5lciIsImhhbmRsZU5hdiIsImJveCIsInRvZ2dsZU5hdkJhY2tncm91bmQiLCJwYXNzaXZlIl0sIm1hcHBpbmdzIjoidTNOQUFBLElBQU1BLGdCQUFrQkMsU0FBU0MsY0FBYyxjQUN6Q0MsSUFBTUYsU0FBU0MsY0FBYyxRQUM3QkUsU0FBV0gsU0FBU0ksaUJBQWlCLHdCQUNyQ0MsYUFBZUwsU0FBU0ksaUJBQzVCLHdDQUVJRSxTQUFXTixTQUFTSSxpQkFBaUIsa0JBQ3JDRyxTQUFXUCxTQUFTSSxpQkFBaUIsbUJBQ3JDSSxjQUFnQlIsU0FBU0ksaUJBQWlCLHdCQUMxQ0ssT0FBU1QsU0FBU0ksaUJBQWlCLDhCQVRuQ0wsS0FBQUEsU0FBa0JDLGNBQVNDLFFBQzNCQyxnQkFBZUQsSUFBQUEsaUJBQ3JCLHNOQUlNSyxvQkFBb0JGLGdCQUFpQixHQUNyQ0csbUJBQW9CSCxnQkFBaUJNLGdCQUEzQ0MsT0FBQSxHQUNNSCxxQkFBZ0JSLEVBR2hCVSxVQUFBQSxXQUdOWCxnQkFBTWEsVUFBc0JGLE9BQUFBLGFBQzVCUixJQUFNVyxVQUFBQSxPQUFrQixlQUN4QmIsU0FBSWMsS0FBQUEsVUFBc0JDLE9BRTFCLGdCQUtFRCxxQkFBdUJBLG9CQUp6QkUsMEJBR0VoQixvQkFBd0JlLFdBQ3hCRCxJQUFBQSxVQUFBQSxPQUFtQixrQkFBbkIsRUFBdUJBLE9BQXZCRyxTQUNBRCxJQUFBQSxVQUFBQSxPQUxGLHFCQVlJRSxPQUFPRCxRQUFVQyxPQUFPQyxjQUo1QkMsVUFBQSxTQUFBQyxFQUFBQyxHQVNFLElBQU1DLEVBQVVGLEVBQWFHLFFBQVEsYUFLL0JDLEdBTE5wQixhQUFhaUIsR0FBR0QsVUFBWU4sT0FBQ1MsbUNBRTdCbkIsRUFBQUEsVUFBZ0Jx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RCxXQTJCSlUsc0JBekJDMUUiLCJmaWxlIjoibWFpbi5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBoYW1idXJnZXJCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmhhbWJ1cmdlclwiKTtcclxuY29uc3QgbmF2ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5uYXZcIik7XHJcbmNvbnN0IG5hdkxpbmtzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5uYXYtbGlzdF9faXRlbS1saW5rXCIpO1xyXG5jb25zdCBmYXFJY29uTGluZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFxyXG4gIFwiLmZhcS1pdGVtX19ib3gtYnV0dG9uLWxpbmUtLXZlcnRpY2FsXCJcclxuKTtcclxuY29uc3QgZmFxQm94ZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmZhcS1pdGVtX19ib3hcIik7XHJcbmNvbnN0IGZhcVRleHRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5mYXEtaXRlbV9fdGV4dFwiKTtcclxuY29uc3QgZmFxQ29udGFpbmVycyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuZmFxLWl0ZW1fX2NvbnRhaW5lclwiKTtcclxuY29uc3QgaW5wdXRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5jb250YWN0LWZvcm1fX2ZpZWxkLWlucHV0XCIpO1xyXG5jb25zdCBmb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcImZvcm1cIik7XHJcbmNvbnN0IGZvY3VzYWJsZUNoaWxkcyA9IG5hdi5xdWVyeVNlbGVjdG9yQWxsKFxyXG4gICdhW2hyZWZdOm5vdChbZGlzYWJsZWRdKSwgYnV0dG9uOm5vdChbZGlzYWJsZWRdKSwgdGV4dGFyZWE6bm90KFtkaXNhYmxlZF0pLCBpbnB1dFt0eXBlPVwidGV4dFwiXTpub3QoW2Rpc2FibGVkXSksIGlucHV0W3R5cGU9XCJyYWRpb1wiXTpub3QoW2Rpc2FibGVkXSksIGlucHV0W3R5cGU9XCJjaGVja2JveFwiXTpub3QoW2Rpc2FibGVkXSksIHNlbGVjdDpub3QoW2Rpc2FibGVkXSknXHJcbik7XHJcbmNvbnN0IGZpcnN0Rm9jdXNhYmxlQ2hpbGQgPSBmb2N1c2FibGVDaGlsZHNbMF07XHJcbmNvbnN0IGxhc3RGb2N1c2FibGVDaGlsZCA9IGZvY3VzYWJsZUNoaWxkc1tmb2N1c2FibGVDaGlsZHMubGVuZ3RoIC0gMV07XHJcbmxldCBpc1RyYXBwZWRUYWJ1bGF0aW9uID0gZmFsc2U7XHJcblxyXG4vLyBVSSBFTEVNRU5UU1xyXG5jb25zdCBoYW5kbGVOYXYgPSAoKSA9PiB7XHJcbiAgaGFtYnVyZ2VyQnV0dG9uLmNsYXNzTGlzdC50b2dnbGUoXCJpcy1hY3RpdmVcIik7XHJcbiAgbmF2LmNsYXNzTGlzdC50b2dnbGUoXCJuYXYtLWFjdGl2ZVwiKTtcclxuICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC50b2dnbGUoXCJibG9jay1zY3JvbGxcIik7XHJcbiAgaXNUcmFwcGVkVGFidWxhdGlvbiA9ICFpc1RyYXBwZWRUYWJ1bGF0aW9uO1xyXG4gIHVwZGF0ZU5hdkxpbmtzVGFiSW5kZXgoKTtcclxufTtcclxuXHJcbmNvbnN0IHRvZ2dsZU5hdkJhY2tncm91bmQgPSAoKSA9PiB7XHJcbiAgbmF2LmNsYXNzTGlzdC50b2dnbGUoXCJuYXYtLXNjcm9sbC1iZ2NcIiwgd2luZG93LnNjcm9sbFkgPiAwKTtcclxuICBuYXYuY2xhc3NMaXN0LnRvZ2dsZShcclxuICAgIFwibmF2LS1zY3JvbGwtYm9yZGVyXCIsXHJcbiAgICB3aW5kb3cuc2Nyb2xsWSA+IHdpbmRvdy5pbm5lckhlaWdodFxyXG4gICk7XHJcbn07XHJcblxyXG5jb25zdCBoYW5kbGVGYXEgPSAoZmFxQ29udGFpbmVyLCBpKSA9PiB7XHJcbiAgY29uc3QgZmFxSXRlbSA9IGZhcUNvbnRhaW5lci5jbG9zZXN0KFwiLmZhcS1pdGVtXCIpO1xyXG5cclxuICBmYXFJY29uTGluZXNbaV0uY2xhc3NMaXN0LnRvZ2dsZShcImZhcS1pdGVtX19ib3gtYnV0dG9uLWxpbmUtLWhpZGVcIik7XHJcbiAgZmFxSXRlbS5jbGFzc0xpc3QudG9nZ2xlKFwiZmFxLWl0ZW0tLWNoZWNrZWRcIik7XHJcblxyXG4gIGNvbnN0IGlzQWN0aXZlID0gZmFxQ29udGFpbmVyLm9mZnNldEhlaWdodCA+IDA7XHJcbiAgY29uc3QgdGV4dEhlaWdodCA9IGZhcVRleHRzW2ldLm9mZnNldEhlaWdodCArIFwicHhcIjtcclxuICBmYXFDb250YWluZXIuc3R5bGVbXCJtYXgtaGVpZ2h0XCJdID0gaXNBY3RpdmUgPyBcIjBweFwiIDogdGV4dEhlaWdodDtcclxufTtcclxuXHJcbmNvbnN0IGhhbmRsZUlucHV0ID0gKGUpID0+IHtcclxuICBjb25zdCBpbnB1dCA9IGUudGFyZ2V0O1xyXG4gIGlucHV0LmNsYXNzTGlzdC50b2dnbGUoXHJcbiAgICBcImNvbnRhY3QtZm9ybV9fZmllbGQtaW5wdXQtLW5vdC1lbXB0eVwiLFxyXG4gICAgaW5wdXQudmFsdWUubGVuZ3RoID4gMFxyXG4gICk7XHJcbn07XHJcblxyXG5jb25zdCB1cGRhdGVGYXFDb250YWluZXJzSGVpZ2h0ID0gKCkgPT4ge1xyXG4gIGZhcUNvbnRhaW5lcnMuZm9yRWFjaCgoY29udGFpbmVyLCBpKSA9PiB7XHJcbiAgICBpZiAoY29udGFpbmVyLm9mZnNldEhlaWdodCA+IDApIHtcclxuICAgICAgY29udGFpbmVyLnN0eWxlW1wibWF4LWhlaWdodFwiXSA9IGZhcVRleHRzW2ldLm9mZnNldEhlaWdodCArIFwicHhcIjtcclxuICAgIH1cclxuICB9KTtcclxufTtcclxuXHJcbmNvbnN0IG9uUmVzaXplID0gKCkgPT4ge1xyXG4gIHVwZGF0ZU5hdkxpbmtzVGFiSW5kZXgoKTtcclxuICB1cGRhdGVGYXFDb250YWluZXJzSGVpZ2h0KCk7XHJcbn07XHJcblxyXG4vLyBGT1JNIFJFUVVFU1RcclxuY29uc3QgVVJMID1cclxuICBcImh0dHBzOi8vc2NyaXB0Lmdvb2dsZS5jb20vbWFjcm9zL3MvQUtmeWNiekpWbEltaVdUeUM5YU03cVdJYklhODlzdmg3NkJYTEt2ZjB5b1NiY2ppRGJPMmhUazcwLUg4cEJraUVNbDgtUDhnSmcvZXhlY1wiO1xyXG5cclxuY29uc3Qgc3VjY2VzcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY29udGFjdC1mb3JtX19tZXNzYWdlLS1zdWNjZXNzXCIpO1xyXG5jb25zdCBmYWlsZWQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNvbnRhY3QtZm9ybV9fbWVzc2FnZS0tZmFpbGVkXCIpO1xyXG5jb25zdCBvblN1Ym1pdCA9IGFzeW5jIChlKSA9PiB7XHJcbiAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gIHN1Y2Nlc3Muc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gIHN1Y2Nlc3Muc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YShmb3JtKTtcclxuICAgIGNvbnN0IGZvcm1PYmplY3QgPSBPYmplY3QuZnJvbUVudHJpZXMoZm9ybURhdGEuZW50cmllcygpKTtcclxuICAgIGNvbnN0IHJlcyA9IGF3YWl0IHNhdmVNZXNzYWdlKGZvcm1PYmplY3QpO1xyXG4gICAgaWYgKHJlcy5zdGF0dXMgPT09IDIwMCkge1xyXG4gICAgICBzdWNjZXNzLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XHJcbiAgICAgIGZvcm0ucmVzZXQoKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGZhaWxlZC5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xyXG4gICAgfVxyXG4gIH0gY2F0Y2ggKGVycikge1xyXG4gICAgZmFpbGVkLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XHJcbiAgfVxyXG59O1xyXG5cclxuY29uc3Qgc2F2ZU1lc3NhZ2UgPSAoZGF0YSkgPT4ge1xyXG4gIHJldHVybiBmZXRjaChVUkwsIHtcclxuICAgIHJlZGlyZWN0OiBcImZvbGxvd1wiLFxyXG4gICAgbWV0aG9kOiBcIlBPU1RcIixcclxuICAgIGhlYWRlcnM6IHsgXCJDb250ZW50LVR5cGVcIjogXCJ0ZXh0L3BsYWluO2NoYXJzZXQ9dXRmLThcIiB9LFxyXG4gICAgYm9keTogSlNPTi5zdHJpbmdpZnkoZGF0YSksXHJcbiAgfSk7XHJcbn07XHJcblxyXG4vLyBUUkFQIFRBQlVMQVRJT05cclxuY29uc3Qgb25LZXlkb3duID0gKGUpID0+IHtcclxuICBpZiAoIWlzVHJhcHBlZFRhYnVsYXRpb24gfHwgZS5rZXkgIT09IFwiVGFiXCIgfHwgd2luZG93LmlubmVyV2lkdGggPiAxMDI0KSB7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICBpZiAoZS5zaGlmdEtleSAmJiBkb2N1bWVudC5hY3RpdmVFbGVtZW50ID09PSBmaXJzdEZvY3VzYWJsZUNoaWxkKSB7XHJcbiAgICBsYXN0Rm9jdXNhYmxlQ2hpbGQuZm9jdXMoKTtcclxuICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICB9XHJcblxyXG4gIGlmICghZS5zaGlmdEtleSAmJiBkb2N1bWVudC5hY3RpdmVFbGVtZW50ID09PSBsYXN0Rm9jdXNhYmxlQ2hpbGQpIHtcclxuICAgIGZpcnN0Rm9jdXNhYmxlQ2hpbGQuZm9jdXMoKTtcclxuICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICB9XHJcbn07XHJcblxyXG5jb25zdCB1cGRhdGVOYXZMaW5rc1RhYkluZGV4ID0gKCkgPT4ge1xyXG4gIG5hdkxpbmtzLmZvckVhY2goKGxpbmspID0+IHtcclxuICAgIGxpbmsudGFiSW5kZXggPSBpc1RyYXBwZWRUYWJ1bGF0aW9uIHx8IHdpbmRvdy5pbm5lcldpZHRoID4gMTAyNCA/IDAgOiAtMTtcclxuICB9KTtcclxufTtcclxuXHJcbmhhbWJ1cmdlckJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgaGFuZGxlTmF2KTtcclxubmF2TGlua3MuZm9yRWFjaCgobGluaykgPT4ge1xyXG4gIGxpbmsuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGhhbmRsZU5hdik7XHJcbn0pO1xyXG5mYXFCb3hlcy5mb3JFYWNoKChib3gsIGkpID0+IHtcclxuICBjb25zdCBjb250YWluZXIgPSBmYXFDb250YWluZXJzW2ldO1xyXG4gIGJveC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4gaGFuZGxlRmFxKGNvbnRhaW5lciwgaSkpO1xyXG59KTtcclxuaW5wdXRzLmZvckVhY2goKGlucHV0KSA9PiB7XHJcbiAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcihcImJsdXJcIiwgaGFuZGxlSW5wdXQpO1xyXG59KTtcclxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLCB0b2dnbGVOYXZCYWNrZ3JvdW5kKTtcclxuZm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIG9uU3VibWl0KTtcclxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgb25SZXNpemUsIHtcclxuICBwYXNzaXZlOiB0cnVlLFxyXG59KTtcclxubmF2LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIG9uS2V5ZG93bik7XHJcbnRvZ2dsZU5hdkJhY2tncm91bmQoKTtcclxudXBkYXRlTmF2TGlua3NUYWJJbmRleCgpO1xyXG4iXX0=
